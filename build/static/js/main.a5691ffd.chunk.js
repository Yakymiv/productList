(this["webpackJsonpproduct-list"]=this["webpackJsonpproduct-list"]||[]).push([[0],{160:function(e,t,c){},161:function(e,t,c){},162:function(e,t,c){},163:function(e,t,c){},164:function(e,t,c){"use strict";c.r(t);var a=c(2),n=c(25),r=c.n(n),o=c(33),s=c(16),i=c(12),d=c(170),l=c(168),j=(c(70),c(3)),u=function(e){var t=e.id,c=e.name,n=e.img,r=e.desc,s=e.count,u=Object(a.useState)(!1),b=Object(i.a)(u,2),h=b[0],O=b[1],m=function(){return O(!1)};return Object(j.jsxs)("div",{className:"cardElement",children:[Object(j.jsxs)(l.a,{show:h,onHide:m,children:[Object(j.jsx)(l.a.Header,{children:Object(j.jsx)(l.a.Title,{children:"Delete product"})}),Object(j.jsx)(l.a.Body,{children:"You really wont to delete this product?"}),Object(j.jsxs)(l.a.Footer,{children:[Object(j.jsx)(d.a,{variant:"info",onClick:m,children:"Close"}),Object(j.jsx)(d.a,{variant:"danger",className:"buttonDeleteElement","data-id":t,onClick:m,children:"Delete product"})]})]}),Object(j.jsxs)("div",{className:"cardHeader",children:[Object(j.jsx)("h2",{children:c}),Object(j.jsx)(o.b,{to:"/product/".concat(t),children:"More information"}),Object(j.jsx)(d.a,{variant:"outline-danger",className:"cardButton",onClick:function(){return O(!0)},children:"delete"})]}),Object(j.jsxs)("div",{className:"cardBody",children:[Object(j.jsx)("div",{children:Object(j.jsx)("img",{className:"cardImg",src:n,alt:"IMG"})}),Object(j.jsxs)("div",{className:"cardDesc",children:[Object(j.jsxs)("p",{className:"cardDescCount",children:["Count: ",s]}),Object(j.jsx)("p",{className:"cardDescText",children:r})]})]})]})},b=c(34),h=c(169),O=c(65),m=c(23),x=c.n(m),p=c(45),g={apiKey:"AIzaSyDQW5jhcT06sBwihy4wA2LKqipwO11o99o",authDomain:"yakymiv-product-list.firebaseapp.com",projectId:"yakymiv-product-list",storageBucket:"yakymiv-product-list.appspot.com",messagingSenderId:"631754169498",appId:"1:631754169498:web:76f0d58bd96bb02a2d5323"};p.a.initializeApp(g);var f=p.a.firestore(),v=function(e){var t=e.setCardList,c=e.show,n=e.onHide,r=Object(a.useState)(""),o=Object(i.a)(r,2),s=o[0],u=o[1],m=Object(a.useState)(""),p=Object(i.a)(m,2),g=p[0],v=p[1],C=Object(a.useState)(""),y=Object(i.a)(C,2),N=y[0],P=y[1],w=Object(a.useState)(""),S=Object(i.a)(w,2),k=S[0],E=S[1],I=Object(a.useState)(""),L=Object(i.a)(I,2),T=L[0],D=L[1],B=Object(a.useState)(!0),G=Object(i.a)(B,2),H=G[0],A=G[1],q=Object(a.useState)(!0),F=Object(i.a)(q,2),U=F[0],z=F[1],M=Object(a.useState)(!0),Q=Object(i.a)(M,2),R=Q[0],W=Q[1],_=Object(a.useState)(!0),J=Object(i.a)(_,2),K=J[0],Y=J[1],V=Object(a.useState)(!0),X=Object(i.a)(V,2),Z=X[0],$=X[1],ee=function(e){switch(e.target.id){case"name":u(e.target.value);break;case"url":v(e.target.value);break;case"desc":P(e.target.value);break;case"qty":E(e.target.value);break;case"color":D(e.target.value)}},te=function(){var e={imageUrl:g,name:s,count:k,description:N,color:T,comments:["another comment"]};f.collection("fruits").add(e).then((function(c){e.id=c.id,t((function(t){return[].concat(Object(b.a)(t),[e])})),console.log("Document written with ID: ",c.id)})).catch((function(e){console.log("Error adding document: ",e)}))};return Object(j.jsxs)(l.a,{show:c,onHide:n,size:"lg","aria-labelledby":"container-modal-title-vcenter",centered:!0,children:[Object(j.jsx)(l.a.Header,{children:Object(j.jsx)(l.a.Title,{id:"contained-modal-title-vcenter",children:"Add new product"})}),Object(j.jsx)(l.a.Body,{children:Object(j.jsxs)(h.a,{children:[Object(j.jsxs)(h.a.Group,{children:[Object(j.jsx)(h.a.Label,{children:"Product name"}),H?Object(j.jsx)(h.a.Control,{onChange:ee,type:"text",id:"name",placeholder:"Enter product name"}):Object(j.jsx)(h.a.Control,{onChange:ee,type:"text",isInvalid:"true",id:"name",placeholder:"Enter product name"}),Object(j.jsx)(h.a.Text,{className:"text-muted",children:"Please enter a name product."})]}),Object(j.jsxs)(h.a.Group,{children:[Object(j.jsx)(h.a.Label,{children:"Product image"}),U?Object(j.jsx)(h.a.Control,{onChange:ee,type:"url",id:"url",placeholder:"Enter url to image"}):Object(j.jsx)(h.a.Control,{onChange:ee,type:"url",isInvalid:"true",id:"url",placeholder:"Enter url to image"}),Object(j.jsx)(h.a.Text,{className:"text-muted",children:"Please enter image url."})]}),Object(j.jsxs)(h.a.Group,{children:[Object(j.jsx)(h.a.Label,{children:"Product description"}),R?Object(j.jsx)(h.a.Control,{onChange:ee,as:"textarea",id:"desc",placeholder:"Enter product description",rows:3}):Object(j.jsx)(h.a.Control,{onChange:ee,as:"textarea",isInvalid:"true",id:"desc",placeholder:"Enter product description",rows:3}),Object(j.jsx)(h.a.Text,{className:"text-muted",children:"Please enter a product description."})]}),Object(j.jsxs)(h.a.Row,{children:[Object(j.jsx)(O.a,{children:Object(j.jsxs)(h.a.Group,{children:[Object(j.jsx)(h.a.Label,{children:"Q-ty of product"}),K?Object(j.jsx)(h.a.Control,{onChange:ee,type:"number",id:"qty",placeholder:"Enter q-ty of product"}):Object(j.jsx)(h.a.Control,{onChange:ee,type:"number",isInvalid:"true",id:"qty",placeholder:"Enter q-ty of product"}),Object(j.jsx)(h.a.Text,{className:"text-muted",children:"Please enter how much product you have."})]})}),Object(j.jsx)(O.a,{children:Object(j.jsxs)(h.a.Group,{children:[Object(j.jsx)(h.a.Label,{children:"Product color"}),Z?Object(j.jsx)(h.a.Control,{onChange:ee,type:"text",id:"color",placeholder:"Enter product color"}):Object(j.jsx)(h.a.Control,{onChange:ee,type:"text",isInvalid:"true",id:"color",placeholder:"Enter product color"}),Object(j.jsx)(h.a.Text,{className:"text-muted",children:"Please enter a product color"})]})})]})]})}),Object(j.jsxs)(l.a.Footer,{children:[Object(j.jsx)(d.a,{onClick:n,variant:"secondary",children:"Close"}),Object(j.jsx)(d.a,{onClick:function(e){A(x.a.isAlpha(s)),z(x.a.isURL(g)),W(!(N<=0)),Y(x.a.isInt(k,{min:0,allow_leading_zeroes:!1})),$(x.a.isAlpha(T)),H&&U&&R&&K&&Z&&s.length&&(te(),n(),u(""),v(""),P(""),E(""),D(""))},variant:"success",children:"Add product"})]})]})},C=(c(160),function(){var e=Object(a.useState)(!1),t=Object(i.a)(e,2),c=t[0],n=t[1],r=Object(a.useState)(!1),o=Object(i.a)(r,2),s=o[0],l=o[1],b=Object(a.useState)([]),h=Object(i.a)(b,2),O=h[0],m=h[1];Object(a.useEffect)((function(){var e=[];f.collection("fruits").get().then((function(t){t.forEach((function(t){var c=t.data();c.id=t.id,e.push(c)})),m(e)}))}),[]);var x=O;"Name"===s?x.sort((function(e,t){return e.name>t.name?1:-1})):"Count"===s&&x.sort((function(e,t){return e.count-t.count}));var p=function(e){l(e)};return Object(j.jsxs)("div",{className:"ProductListPage",children:[Object(j.jsx)(v,{setCardList:m,cardLit:O,show:c,onHide:function(){return n(!1)}}),Object(j.jsxs)("div",{className:"ProductListPageButtons",children:[Object(j.jsx)("div",{className:"ProductListPageButtonNew",children:Object(j.jsx)(d.a,{variant:"info",onClick:function(){return n(!0)},children:"New Product"})}),Object(j.jsxs)("div",{className:"ProductListPageButtonSort",children:[Object(j.jsx)(d.a,{variant:"outline-info",onClick:function(){return p("Name")},children:"Short by name"}),Object(j.jsx)(d.a,{variant:"outline-info",onClick:function(){return p("Count")},children:"Short by Count"})]})]}),Object(j.jsx)("div",{onClick:function(e){var t=e.target.dataset.id;e.target.classList.contains("buttonDeleteElement")&&f.collection("fruits").doc(t).delete().then((function(){m((function(e){return e.filter((function(e){return e.id!==t}))})),console.log("Document successfull deleted")})).catch((function(e){console.log("Error removing document ",e)}))},children:x.map((function(e){return Object(j.jsx)(u,{id:e.id,name:e.name,img:e.imageUrl,count:e.count,desc:e.description},e.id)}))})]})}),y=c(167),N=function(e){var t=e.setFruit,c=e.fruit,n=e.id,r=e.show,o=e.onHide,s=Object(a.useState)(""),u=Object(i.a)(s,2),b=u[0],m=u[1],p=Object(a.useState)(""),g=Object(i.a)(p,2),v=g[0],C=g[1],y=Object(a.useState)(""),N=Object(i.a)(y,2),P=N[0],w=N[1],S=Object(a.useState)(""),k=Object(i.a)(S,2),E=k[0],I=k[1],L=Object(a.useState)(""),T=Object(i.a)(L,2),D=T[0],B=T[1],G=Object(a.useState)(!0),H=Object(i.a)(G,2),A=H[0],q=H[1],F=Object(a.useState)(!0),U=Object(i.a)(F,2),z=U[0],M=U[1],Q=Object(a.useState)(!0),R=Object(i.a)(Q,2),W=R[0],_=R[1],J=Object(a.useState)(!0),K=Object(i.a)(J,2),Y=K[0],V=K[1],X=Object(a.useState)(!0),Z=Object(i.a)(X,2),$=Z[0],ee=Z[1];Object(a.useEffect)((function(){m(c.name),C(c.imageUrl),w(c.count),I(c.description),B(c.color)}),[m,C,w,I,B,c]);var te=function(e){switch(e.target.id){case"name":m(e.target.value);break;case"url":C(e.target.value);break;case"desc":I(e.target.value);break;case"qty":w(e.target.value);break;case"color":B(e.target.value)}},ce=function(){var e={imageUrl:v,name:b,count:P,description:E,color:D,comments:["another comment"]};f.collection("fruits").doc(n).set(e).then((function(){t(e),console.log("The document has been modified")})).catch((function(e){console.log("Error adding document: ",e)}))};return Object(j.jsxs)(l.a,{show:r,onHide:o,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(j.jsx)(l.a.Header,{children:Object(j.jsx)(l.a.Title,{id:"contained-modal-title-vcenter",children:"Change product"})}),Object(j.jsx)(l.a.Body,{children:Object(j.jsxs)(h.a,{children:[Object(j.jsxs)(h.a.Group,{children:[Object(j.jsx)(h.a.Label,{children:"Product name"}),Object(j.jsx)(h.a.Control,{type:"text",id:"name",value:b,onChange:te}),Object(j.jsx)(h.a.Text,{className:"text-muted",children:"Please enter a name product."})]}),Object(j.jsxs)(h.a.Group,{children:[Object(j.jsx)(h.a.Label,{children:"Product image"}),Object(j.jsx)(h.a.Control,{type:"url",id:"url",value:v,onChange:te}),Object(j.jsx)(h.a.Text,{className:"text-muted",children:"Please enter image url."})]}),Object(j.jsxs)(h.a.Group,{children:[Object(j.jsx)(h.a.Label,{children:"Product description"}),Object(j.jsx)(h.a.Control,{as:"textarea",id:"desc",value:E,rows:3,onChange:te}),Object(j.jsx)(h.a.Text,{className:"text-muted",children:"Please enter a product description."})]}),Object(j.jsxs)(h.a.Row,{children:[Object(j.jsx)(O.a,{children:Object(j.jsxs)(h.a.Group,{children:[Object(j.jsx)(h.a.Label,{children:"Q-ty of product"}),Object(j.jsx)(h.a.Control,{type:"number",id:"qty",value:P,onChange:te}),Object(j.jsx)(h.a.Text,{className:"text-muted",children:"Please enter how much product you have."})]})}),Object(j.jsx)(O.a,{children:Object(j.jsxs)(h.a.Group,{children:[Object(j.jsx)(h.a.Label,{children:"Product color"}),Object(j.jsx)(h.a.Control,{type:"text",id:"color",value:D,onChange:te}),Object(j.jsx)(h.a.Text,{className:"text-muted",children:"Please enter a product color"})]})})]})]})}),Object(j.jsxs)(l.a.Footer,{children:[Object(j.jsx)(d.a,{onClick:o,variant:"success",children:"Cancel"}),Object(j.jsx)(d.a,{onClick:function(e){q(x.a.isAlpha(b)),M(x.a.isURL(v)),_(!(E<=0)),V(x.a.isInt(P,{min:0,allow_leading_zeroes:!1})),ee(x.a.isAlpha(D)),A&&z&&W&&Y&&$&&b.length&&(ce(),o())},variant:"secondary",children:"Change"})]})]})},P=(c(161),function(e){var t=e.commentDate,c=e.id,a=e.children,n=void 0,r=void 0,o=void 0,s=void 0,i=void 0;return function(){var e=new Date(t);n=e.getDate(),r=e.getMonth(),o=e.getFullYear(),s=e.getHours(),i=e.getMinutes();var c=function(e){return("0"+e).slice(-2)};n=c(n),r=c(r+1),s=c(s),i=c(i)}(),Object(j.jsxs)("div",{className:"commentItem",children:[Object(j.jsx)("p",{className:"commentDate",children:"".concat(s,":").concat(i," - ").concat(n,".").concat(r,".").concat(o)}),Object(j.jsx)("p",{className:"commentText",children:a}),Object(j.jsx)(d.a,{"data-id":c,variant:"danger",children:"Delete"})]})}),w=(c(162),function(e){var t=e.id,c=Object(a.useState)([]),n=Object(i.a)(c,2),r=n[0],o=n[1],s=Object(a.useState)(""),l=Object(i.a)(s,2),u=l[0],O=l[1];Object(a.useEffect)((function(){var e=[];f.collection("comments").where("productId","==",t).get().then((function(t){t.forEach((function(t){var c=t.data();c.id=t.id,e.push(c)})),o(e)}))}),[t]);return r.sort((function(e,t){return e.date<t.date?1:-1})),Object(j.jsxs)("div",{className:"productComments",children:[Object(j.jsx)("div",{children:Object(j.jsxs)(h.a,{children:[Object(j.jsxs)(h.a.Group,{controlId:"exampleForm.ControlTextarea1",children:[Object(j.jsx)(h.a.Label,{children:"Add new comment"}),Object(j.jsx)(h.a.Control,{onChange:function(e){O(e.target.value)},value:u,as:"textarea",rows:3})]}),Object(j.jsx)(d.a,{onClick:function(){if(!(u.length<=0)){var e={date:(new Date).getTime(),description:u,productId:t};f.collection("comments").add(e).then((function(t){e.id=t.id,o([].concat(Object(b.a)(r),[e]))}))}},children:"Add comment"})]})}),Object(j.jsxs)("div",{onClick:function(e){e.target.dataset.id&&f.collection("comments").doc(e.target.dataset.id).delete().then((function(){o((function(t){return t.filter((function(t){return t.id!==e.target.dataset.id}))})),console.log("Document successfull deleted")})).catch((function(e){console.log("Error removing document ",e)}))},className:"productCommentList",children:[Object(j.jsx)("div",{children:Object(j.jsx)("h3",{className:"ProductCommentListTitle",children:"Comments"})}),r.map((function(e){return Object(j.jsx)(P,{id:e.id,commentDate:e.date,children:e.description},e.id)}))]})]})}),S=(c(163),function(){var e=Object(a.useState)(""),t=Object(i.a)(e,2),c=t[0],n=t[1],r=Object(a.useState)(!1),o=Object(i.a)(r,2),l=o[0],u=o[1],b=Object(s.f)().pathname.replace("/product/","");return Object(a.useEffect)((function(){f.collection("fruits").doc(b).get().then((function(e){e.exists?n(e.data()):console.log("No such document!")})).catch((function(e){console.log("Error getting document: ",e)}))}),[b]),Object(j.jsxs)("div",{className:"productPage",children:[Object(j.jsx)(N,{setFruit:n,fruit:c,id:b,show:l,onHide:function(){return u(!1)}}),Object(j.jsx)("div",{className:"productPageTopLine",children:Object(j.jsxs)(y.a,{children:[Object(j.jsx)(O.a,{children:Object(j.jsx)("h1",{className:"productPageEditTitle",children:c.name})}),Object(j.jsx)(O.a,{className:"productPageEditButton",children:Object(j.jsx)(d.a,{variant:"primary",onClick:function(){return u(!0)},children:"Edit"})})]})}),Object(j.jsx)("div",{className:"productPageImageWrapper",children:Object(j.jsx)("img",{className:"productPageImage",src:c.imageUrl,alt:c.name})}),Object(j.jsx)("div",{className:"productPageDescWrapper",children:Object(j.jsx)("p",{children:c.description})}),Object(j.jsxs)("div",{className:"productPageInfoWrapper",children:[Object(j.jsxs)("p",{className:"productPageInfoItem",children:["Qty: ",c.count]}),Object(j.jsxs)("p",{className:"productPageInfoItem",children:["Color: ",c.color]})]}),Object(j.jsx)(w,{id:b})]})}),k=function(){return Object(j.jsx)(o.a,{children:Object(j.jsxs)(s.c,{children:[Object(j.jsx)(s.a,{exact:!0,path:"/",children:Object(j.jsx)(C,{})}),Object(j.jsx)(s.a,{exact:!0,path:"/product/:id",children:Object(j.jsx)(S,{})})]})})};var E=function(e){var t=e.fruits;return console.log(t),Object(j.jsx)(k,{})};r.a.render(Object(j.jsx)(E,{}),document.getElementById("root"))},70:function(e,t,c){}},[[164,1,2]]]);
//# sourceMappingURL=main.a5691ffd.chunk.js.map